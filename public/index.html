<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Alesis Drums — Electronic Drum Range</title>

  <style>
    :root{
      --bg0:#06090e; --bg1:#0b141c; --panel:#0f1720;
      --ink:#e8f6fb; --muted:#a8c0cf; --line:#2b3642;
      --cyan:#00e5ff; --cyan-ink:#003544; --good:#17c964; --warn:#fde047;
    }
    *{box-sizing:border-box} html,body{height:100%}
    body{
      margin:0; color:var(--ink); font:14px/1.45 system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      background:
        radial-gradient(1200px 700px at 20% -10%, #0a1c29 0%, transparent 60%),
        radial-gradient(900px 600px at 100% 10%, #0d2031 0%, transparent 50%),
        linear-gradient(180deg,#080c12 0%, #05080c 100%);
      background-color:var(--bg0);
    }
    .wrap{max-width:1200px;margin:0 auto;padding:14px 16px}

    header{position:sticky;top:0;z-index:40;backdrop-filter:saturate(110%) blur(8px)}
    header .bar{
      display:flex;align-items:center;justify-content:space-between;
      border-bottom:1px solid var(--line);
      background:linear-gradient(180deg,rgba(10,20,28,.85),rgba(8,12,18,.85));
      border-radius:0 0 14px 14px;padding:10px 14px;
    }
    .brand{display:flex;gap:10px;align-items:center}
    .tag{background:#06313d;color:#bff7ff;border:1px solid #0e3e47;padding:2px 8px;border-radius:999px;font-size:12px}

    .header-ctas{display:flex;gap:10px;align-items:center}
    .btn{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--line);border-radius:999px;padding:8px 14px;background:transparent;color:var(--ink);cursor:pointer}
    .btn:hover{border-color:#385063}
    .btn-primary{background:var(--cyan);color:var(--cyan-ink);border-color:#1ae8ff;font-weight:700;box-shadow:0 6px 18px rgba(0,229,255,.2)}
    .btn-ghost{background:transparent;color:var(--ink)}

    .title-xl{font-size:26px;font-weight:800;margin:12px 0 6px}
    .muted{color:var(--muted)}

    /* Chips */
    .chips{display:flex;flex-wrap:wrap;gap:8px;align-items:center}
    .chip{background:#09161f;border:1px solid #203241;color:#cfe5f3;border-radius:999px;padding:6px 10px;cursor:pointer}
    .chip.active{outline:2px solid var(--cyan);color:var(--ink)}
    .chip.badge{font-weight:800;background:#09343e;border-color:#0d4650;color:#97f3ff}

    /* Card grid */
    #grid{display:grid;gap:14px;grid-template-columns:repeat(auto-fill,minmax(260px,1fr))}
    .card{background:rgba(16,25,33,.85);border:1px solid var(--line);border-radius:16px;overflow:hidden;box-shadow:0 12px 40px rgba(0,0,0,.35);position:relative}
    .card .img{aspect-ratio:16/10; background:#111; display:flex;align-items:center;justify-content:center;overflow:hidden}
    .card img{width:100%;height:100%;object-fit:cover}
    .card .body{padding:12px}
    .price-pill{background:#032e36;border:1px solid #0e3e47;color:var(--cyan);font-weight:800;border-radius:999px;padding:6px 10px;display:inline-block}

    /* Demo ribbon on image */
    .demo-ribbon{position:absolute;top:12px;left:12px;background:var(--warn);color:#111;padding:6px 10px;border-radius:999px;font-weight:700;box-shadow:0 2px 10px rgba(0,0,0,.2)}

    /* Dialogs */
    dialog{border:none;background:transparent;padding:0}
    dialog::backdrop{background:rgba(0,0,0,.55)}
    .modal{background:linear-gradient(180deg,#0f1720,#0c141b);border:1px solid var(--line);border-radius:16px;box-shadow:0 30px 60px rgba(0,0,0,.5)}
    .modal-head{display:flex;justify-content:space-between;align-items:center;padding:12px 14px;border-bottom:1px solid var(--line)}
    .modal-head .x{border:1px solid var(--line);background:#0b141c;color:var(--ink);border-radius:10px;padding:6px 10px}
    .modal-body{padding:14px}

    /* Detail modal layout (image left, white block) */
    .detail{max-width:980px;width:96vw}
    .detail-grid{display:grid;grid-template-columns:1.15fr .85fr;gap:16px}
    .detail-img{background:#fff;border-radius:12px;padding:10px;border:1px solid #e5e7eb;display:flex;align-items:center;justify-content:center}
    .detail-img img{width:100%;height:auto;object-fit:contain}

    /* Wizard form look */
    .field{display:flex;flex-direction:column;gap:6px}
    select{width:100%;background:#0e1a23;border:1px solid #2a3a47;color:var(--ink);padding:10px 12px;border-radius:10px}
    .pill{border:1px solid var(--line);border-radius:999px;padding:5px 9px;display:inline-flex;align-items:center;gap:6px}
    .pill.good{background:#0c2a19;border-color:#124b2b;color:#9bf7c3}

    /* Scrollbars (subtle) */
    ::-webkit-scrollbar{height:10px;width:10px}::-webkit-scrollbar-thumb{background:#1b2a36;border-radius:999px}
  </style>
  <link rel="stylesheet" href="/fixes.css?v=1">
  <link rel="stylesheet" href="/override.css?v=1">
</head>
<body>
  <header>
    <div class="bar wrap">
      <div class="brand">
        <strong>ALESIS</strong>
        <span class="tag">DRUMS</span>
      </div>
      <div class="header-ctas">
        <button id="btnCompare" class="btn btn-ghost">Compare <span id="cmpCount" class="pill">0</span></button>
        <button id="btnWizard" class="btn btn-primary">Find my kit</button>
      </div>
    </div>
  </header>

  <main class="wrap">
    <h1 class="title-xl">Electronic Drum Range</h1>
    <div class="muted" style="margin-bottom:10px">Compare features and choose the perfect Alesis kit for practice, recording, or performance.</div>

    <!-- Chips -->
    <div class="chips" style="margin-bottom:12px">
      <button class="chip active" data-filter="All">All</button>
      <button class="chip" data-filter="Electronic Drum Kits">Electronic Drum Kits</button>
      <button class="chip" data-filter="Multipads & Drum Machines">Multipads & Drum Machines</button>
      <button class="chip" data-filter="Drum Amps">Drum Amplification</button>
      <button class="chip" data-filter="Accessories">Accessories</button>
      <button class="chip badge" data-filter="On Demo">On Demo</button>
    </div>

    <!-- Product grid -->
    <div id="grid"></div>
  </main>

  <!-- Detail dialog -->
  <dialog id="detailWrap">
    <div class="modal detail">
      <div class="modal-head"><strong id="detailTitle"></strong><button data-close="1" class="x">Close</button></div>
      <div class="modal-body">
        <div class="detail-grid">
          <div class="detail-img"><img id="detailImg" alt=""/></div>
          <div class="sheet">
            <div class="pill price-pill" id="detailPrice"></div>
            <div class="muted" id="detailDesc" style="margin-top:10px"></div>
            <div id="detailBadges" style="margin-top:12px;display:flex;flex-wrap:wrap;gap:8px"></div>
            <div id="detailLists" style="margin-top:12px;display:grid;grid-template-columns:1fr 1fr;gap:12px"></div>
          </div>
        </div>
      </div>
    </div>
  </dialog>

  <!-- Compare dialog -->
  <dialog id="compareModal">
    <div class="modal" style="max-width:980px;width:96vw">
      <div class="modal-head"><strong>Compare</strong><button data-close="1" class="x">Close</button></div>
      <div class="modal-body"><div id="compareGrid" style="display:grid;grid-template-columns:1fr 1fr;gap:12px"></div></div>
    </div>
  </dialog>

  <!-- Wizard dialog -->
  <dialog id="wizard">
    <div class="modal" style="max-width:900px;width:96vw">
      <div class="modal-head"><strong>Find My Perfect Kit</strong><button data-close="1" class="x">Close</button></div>
      <div class="modal-body">
        <div id="wizardBody" style="display:grid;grid-template-columns:1fr 1fr;gap:12px">
          <div class="field"><label>Experience</label>
            <select id="wExp"><option>Beginner</option><option selected>Intermediate</option><option>Advanced</option></select>
          </div>
          <div class="field"><label>Budget</label>
            <select id="wBudget"><option>Under AED 2,000</option><option selected>AED 2,000 – 5,000</option><option>AED 5,000 – 9,000</option><option>Above AED 9,000</option></select>
          </div>
          <div class="field"><label>Space</label>
            <select id="wSpace"><option>Compact</option><option selected>Standard</option><option>Studio</option></select>
          </div>
          <div class="field"><label>Goal</label>
            <select id="wGoal"><option>Learning</option><option selected>Recording</option><option>Performance</option></select>
          </div>
          <div class="field"><label>Noise Sensitivity</label>
            <select id="wNoise"><option>Low</option><option>Medium</option><option selected>High (keep it quiet)</option></select>
          </div>
          <div class="field"><label>Connectivity Preference</label>
            <select id="wConn"><option selected>USB/MIDI</option><option>Bluetooth</option><option>No preference</option></select>
          </div>
        </div>
        <div style="display:flex;gap:10px;margin-top:12px">
          <button id="btnSuggest" class="btn btn-primary">Get Recommendation</button>
          <button data-close="1" class="btn btn-ghost">Close</button>
        </div>
        <div id="wizOut" style="margin-top:12px"></div>
      </div>
    </div>
  </dialog>

  <!-- Order of scripts matters: env -> boot-supabase -> app -->
  <script src="/env.js"></script>
  <script type="module" src="/boot-supabase.js?v=1"></script>
  <script type="module" src="/app.js?v=10"></script>
</body>
</html>
