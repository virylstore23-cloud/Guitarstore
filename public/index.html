<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Alesis Soundstage</title>
  <link rel="icon" href="/favicon.ico">
  <style>
    :root{
      --bg-0:#0a0d10;               /* nearly black */
      --bg-1:#10151b;
      --card:#141a21;
      --line:#2b3642;
      --muted:#a7b1bd;
      --txt:#eaf2ff;
      --brand:#00d2ff;              /* Alesis cyan */
      --brand-600:#00b4e4;
      --accent:#19ffa8;
      --danger:#ff3b3b;
      --chip:#0f1620;
      --chip-on:#112433;
      --shadow: 0 2px 0 0 rgba(255,255,255,0.06) inset,
                0 1px 0 0 rgba(0,0,0,0.6),
                0 12px 32px rgba(0,0,0,0.45);
    }
    html,body{height:100%;}
    body{
      margin:0; color:var(--txt); background: radial-gradient(1200px 600px at 75% -10%,
        rgba(21,79,153,0.35),transparent 60%), radial-gradient(900px 360px at -10% -10%,
        rgba(4,78,112,0.35),transparent 55%), var(--bg-0);
      font: 15px/1.45 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
    }
    a{color:inherit; text-decoration:none}
    .wrap{max-width:1200px;margin:0 auto;padding:16px 16px 24px}
    header{position:sticky;top:0;z-index:50;background:linear-gradient(to bottom,rgba(10,13,16,.85),rgba(10,13,16,.55) 60%,transparent);backdrop-filter:saturate(1.2) blur(6px)}
    .row{display:flex;gap:12px;align-items:center}
    .row.spread{justify-content:space-between}
    .brand{font-weight:800;letter-spacing:.16em}
    .brand .dot{color:#fff;background:var(--brand);padding:.18em .38em;border-radius:4px;margin-left:.35rem}
    .btn{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--line);background:linear-gradient(180deg,#0f1821,#0a0f14);
      color:var(--txt);padding:10px 14px;border-radius:12px;box-shadow:var(--shadow);cursor:pointer;transition:.15s}
    .btn:hover{transform:translateY(-1px)}
    .btn-primary{background:linear-gradient(180deg,var(--brand),var(--brand-600)); color:#02161b;border-color:#0af}
    .btn-ghost{background:linear-gradient(180deg,#121820,#0e141a)}
    .btn-pill{border-radius:999px;padding:10px 16px}
    .badge{display:inline-flex;align-items:center;gap:6px;background:#0d1b27;border:1px solid #154057;color:#d7f6ff;border-radius:999px;padding:6px 10px; font-weight:600}
    .chips{display:flex;flex-wrap:wrap;gap:8px}
    .chip{background:var(--chip);border:1px solid var(--line);border-radius:999px;padding:8px 12px;color:var(--muted);cursor:pointer}
    .chip.active{background:var(--chip-on);color:#d7f6ff;border-color:#276e96}
    .grid{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:14px}
    @media (min-width:720px){.grid{grid-template-columns:repeat(2,1fr)}}
    @media (min-width:1024px){.grid{grid-template-columns:repeat(3,1fr)}}
    .card{background:linear-gradient(180deg,#111820,#0b1015);border:1px solid #1f2a36;border-radius:18px;box-shadow:var(--shadow);overflow:hidden}
    .card-inner{padding:14px 14px 12px}
    .figure{position:relative;aspect-ratio:16/9;background:#0f1520;display:block}
    .figure img{width:100%;height:100%;object-fit:cover;display:block}
    .ribbon{position:absolute;top:10px;left:10px;background:#fed602;color:#1a1300;padding:7px 12px;border-radius:999px;font-weight:800;border:1px solid rgba(0,0,0,.2)}
    .title{font-weight:800;margin-top:6px}
    .muted{color:var(--muted);font-size:13px}
    .price{display:inline-flex;align-items:center;gap:8px;margin:8px 0 10px}
    .pill{display:inline-flex;align-items:center;border:1px solid var(--line);background:#0e1520;padding:8px 12px;border-radius:12px}
    .pill-green{background:linear-gradient(180deg,#0d271f,#072315);border-color:#0a3627;color:#bdfbe3;border-radius:999px;font-weight:800}
    .tags{display:flex;flex-wrap:wrap;gap:8px}
    .tag{background:#0a1520;border:1px solid #1a2b3a;border-radius:10px;padding:6px 10px;color:#cfe8ff}
    .foot{display:flex;align-items:center;gap:10px;justify-content:space-between;margin-top:10px}
    .checkbox{display:flex;align-items:center;gap:10px;color:#cfe}
    /* Detail drawer */
    .drawer{position:fixed;inset:0;background:rgba(0,0,0,.55);display:none;align-items:center;justify-content:center;z-index:60}
    .drawer.open{display:flex}
    .panel{width:min(920px,94vw);max-height:90vh;overflow:auto;background:linear-gradient(180deg,#0f151c,#0c1116);border:1px solid #253242;border-radius:18px;box-shadow:0 35px 80px rgba(0,0,0,.6)}
    .panel-head{display:flex;justify-content:space-between;align-items:center;padding:14px 16px;border-bottom:1px solid var(--line)}
    .panel-body{padding:16px}
    .detail-figure{background:#fff;border-radius:14px;overflow:hidden}
    .detail-figure img{width:100%;height:auto;display:block}
    /* Modals */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;align-items:center;justify-content:center;z-index:70}
    .modal.open{display:flex}
    .modal-card{width:min(980px,95vw);max-height:90vh;overflow:auto;background:linear-gradient(180deg,#131a22,#0c1116);border:1px solid #273544;border-radius:18px;padding:16px}
    .form-grid{display:grid;grid-template-columns:1fr;gap:12px}
    @media (min-width:760px){.form-grid{grid-template-columns:1fr 1fr}}
    select{width:100%;background:#0f1620;border:1px solid #2b3a49;border-radius:12px;padding:10px 12px;color:#eaf6ff}
    .h{font-size:28px;font-weight:900;margin:16px 0 0}
    .sub{color:#a0b7cc;margin-top:6px}
    .topbar{display:flex;align-items:center;gap:10px}
    .top-right{display:flex;gap:10px;align-items:center}
    .compare-badge{position:relative}
    .compare-badge[data-count]:after{
      content: attr(data-count); position:absolute;top:-7px;right:-7px;background:#ff3b3b;color:#fff;border:2px solid #0c1116;
      width:22px;height:22px;border-radius:50%;display:grid;place-items:center;font-weight:800;font-size:12px
    }
    /* helpers */
    .sr{position:absolute;left:-9999px}
  </style>
</head>
<body>
  <header>
    <div class="wrap row spread">
      <div class="topbar">
        <div class="brand">ALESIS<span class="dot">DRUMS</span></div>
      </div>
      <div class="top-right">
        <button id="btnCompareOpen" class="btn btn-ghost btn-pill compare-badge" data-count="0">Compare</button>
        <button id="btnWizard" class="btn btn-primary btn-pill">Find my kit</button>
      </div>
    </div>
  </header>

  <main class="wrap">
    <h1 style="margin:4px 0 8px;font-size:38px;letter-spacing:.2px">Electronic Drum Range</h1>
    <div class="sub">Compare features and choose the perfect Alesis kit for practice, recording, or performance.</div>

    <section style="margin:16px 0 10px">
      <div class="chips" id="chipBar">
        <button class="chip active" data-filter="All">All</button>
        <button class="chip" data-filter="Electronic Drum Kits">Electronic Drum Kits</button>
        <button class="chip" data-filter="Multipads & Drum Machines">Multipads & Drum Machines</button>
        <button class="chip" data-filter="Drum Amplification">Drum Amplification</button>
        <button class="chip" data-filter="Accessories">Accessories</button>
        <button class="chip" data-filter="On Demo">On Demo</button>
      </div>
    </section>

    <section id="grid" class="grid" aria-live="polite"></section>
  </main>

  <!-- Detail drawer -->
  <div id="detailWrap" class="drawer" role="dialog" aria-modal="true" aria-label="Product detail">
    <div class="panel">
      <div class="panel-head">
        <div class="title" id="detailTitle">Loading…</div>
        <button class="btn btn-ghost btn-pill" data-close="1">Close</button>
      </div>
      <div class="panel-body">
        <div class="detail-figure"><img id="detailImg" alt=""></div>
        <div id="detailMeta" style="margin-top:12px"></div>
      </div>
    </div>
  </div>

  <!-- Compare modal -->
  <div id="compareModal" class="modal" aria-modal="true" role="dialog" aria-label="Compare">
    <div class="modal-card">
      <div class="row spread" style="margin-bottom:8px">
        <div class="h">Compare</div>
        <button id="btnCompareClose" class="btn btn-ghost btn-pill">Close</button>
      </div>
      <div id="compareArea" style="overflow:auto"></div>
    </div>
  </div>

  <!-- Wizard modal -->
  <div id="wizardModal" class="modal" aria-modal="true" role="dialog" aria-label="Find my kit">
    <div class="modal-card">
      <div class="row spread" style="margin-bottom:8px">
        <div class="h">Find My Perfect Kit</div>
        <button id="btnWizardClose" class="btn btn-ghost btn-pill">Close</button>
      </div>

      <div class="form-grid">
        <label><div class="muted">Experience</div>
          <select id="wExp"><option>Beginner</option><option selected>Intermediate</option><option>Advanced</option></select>
        </label>
        <label><div class="muted">Budget</div>
          <select id="wBudget">
            <option>Under AED 2,000</option>
            <option selected>AED 2,000 – 5,000</option>
            <option>AED 5,000 – 9,000</option>
            <option>Over AED 9,000</option>
          </select>
        </label>
        <label><div class="muted">Space</div>
          <select id="wSpace"><option>Compact</option><option selected>Standard</option><option>Large / Studio</option></select>
        </label>
        <label><div class="muted">Goal</div>
          <select id="wGoal"><option>Learning</option><option>Recording</option><option>Live Performance</option></select>
        </label>
        <label><div class="muted">Noise Sensitivity</div>
          <select id="wNoise"><option>High (keep it quiet)</option><option>Medium</option><option>Low</option></select>
        </label>
        <label><div class="muted">Connectivity Preference</div>
          <select id="wConn"><option>USB/MIDI</option><option>Bluetooth</option><option>No preference</option></select>
        </label>
      </div>

      <div class="row" style="gap:10px;margin-top:12px">
        <button id="btnSuggest" class="btn btn-primary btn-pill">Get Recommendation</button>
        <button id="btnWizardClose2" class="btn btn-ghost btn-pill">Close</button>
      </div>

      <div id="suggestOut" style="margin-top:14px"></div>
    </div>
  </div>

  <!-- ENV + App -->
  <script src="/env.js"></script>
  <script type="module" src="/boot-supabase.js?v=1"></script>
  <script type="module" src="/app.js?v=8"></script>
</body>
</html>
